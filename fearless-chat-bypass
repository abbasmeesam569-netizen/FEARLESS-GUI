local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local prev = PlayerGui:FindFirstChild("KeySystem_GUI")
if prev then prev:Destroy() end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KeySystem_GUI"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 250, 0, 170)
Frame.Position = UDim2.new(0.5, -125, 0.5, -85)
Frame.BackgroundTransparency = 0.3
Frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 12)

local Title = Instance.new("TextLabel")
Title.Text = "FEARLESS KEY SYSTEM üîë"
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(50,50,50)
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Parent = Frame
Instance.new("UICorner", Title).CornerRadius = UDim.new(0, 12)

local TextBox = Instance.new("TextBox")
TextBox.Name = "EnterKey"
TextBox.PlaceholderText = "ENTER KEY"
TextBox.Text = ""
TextBox.ClearTextOnFocus = true
TextBox.Size = UDim2.new(0.9, 0, 0, 30)
TextBox.Position = UDim2.new(0.05, 0, 0.28, 0)
TextBox.BackgroundColor3 = Color3.fromRGB(40,40,40)
TextBox.TextColor3 = Color3.fromRGB(255,255,255)
TextBox.Font = Enum.Font.SourceSans
TextBox.TextSize = 16
TextBox.Parent = Frame
Instance.new("UICorner", TextBox).CornerRadius = UDim.new(0, 8)

local Button = Instance.new("TextButton")
Button.Text = "SUBMIT KEY"
Button.Size = UDim2.new(0.9, 0, 0, 30)
Button.Position = UDim2.new(0.05, 0, 0.55, 0)
Button.BackgroundColor3 = Color3.fromRGB(0,200,100)
Button.TextColor3 = Color3.fromRGB(255,255,255)
Button.Font = Enum.Font.SourceSansBold
Button.TextSize = 16
Button.Parent = Frame
Instance.new("UICorner", Button).CornerRadius = UDim.new(0, 8)

local DiscordButton = Instance.new("TextButton")
DiscordButton.Text = "JOIN DISCORD FOR KEY"
DiscordButton.Size = UDim2.new(0.9, 0, 0, 30)
DiscordButton.Position = UDim2.new(0.05, 0, 0.75, 0)
DiscordButton.BackgroundColor3 = Color3.fromRGB(0,120,255)
DiscordButton.TextColor3 = Color3.fromRGB(255,255,255)
DiscordButton.Font = Enum.Font.SourceSansBold
DiscordButton.TextSize = 16
DiscordButton.Parent = Frame
Instance.new("UICorner", DiscordButton).CornerRadius = UDim.new(0, 8)

local Status = Instance.new("TextLabel")
Status.Text = ""
Status.Size = UDim2.new(1, 0, 0, 25)
Status.Position = UDim2.new(0,0,0.9,0)
Status.BackgroundTransparency = 1
Status.TextColor3 = Color3.fromRGB(255,100,100)
Status.Font = Enum.Font.SourceSansBold
Status.TextSize = 14
Status.Parent = Frame

local function b64d(data)
    local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
    data = string.gsub(data, '[^'..b..'=]', '')
    return (data:gsub('.', function(x)
        if (x == '=') then return '' end
        local r,f='',(b:find(x)-1)
        for i=6,1,-1 do r=r..(f%2^i - f%2^(i-1) > 0 and '1' or '0') end
        return r;
    end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x)
        if (#x ~= 8) then return '' end
        local c=0
        for i=1,8 do c=c + (x:sub(i,i)=='1' and 2^(8-i) or 0) end
        return string.char(c)
    end))
end

local EncKey = "S2V5Njk2OTY5ZmVhcmxlc3M="
local EncScript = "bG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zeW5raXhyL0ZFQVJMRVNTLUNIQVQtQllQQVNTL3JlZnMvaGVhZHMvbWFpbi9mZWFybGVzc2NoYXRieXBhc3Nsb2wudHh0IikpKCk="

local CorrectKey = b64d(EncKey)
local ScriptToLoad = b64d(EncScript)

local savedKey = getgenv().savedFearlessKey or nil
local DiscordLink = "https://discord.gg/p8t7YnArfd"

if savedKey and savedKey ~= "" then
    TextBox.Text = savedKey
end

Button.MouseButton1Click:Connect(function()
    if TextBox.Text == CorrectKey then
        getgenv().savedFearlessKey = TextBox.Text
        Status.Text = "‚úÖ Correct Key!"
        Status.TextColor3 = Color3.fromRGB(100,255,100)
        task.wait(0.5)
        Frame:Destroy()
        pcall(function() loadstring(ScriptToLoad)() end)
    else
        Status.Text = "‚ùå Wrong Key!"
        Status.TextColor3 = Color3.fromRGB(255,100,100)
    end
end)

DiscordButton.MouseButton1Click:Connect(function()
    if setclipboard then
        setclipboard(DiscordLink)
    end
    Status.Text = "üìã Discord link copied!"
    Status.TextColor3 = Color3.fromRGB(100,200,255)
end)
